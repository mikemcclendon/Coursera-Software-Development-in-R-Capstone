---
title: "Capstone"
author: "Mike McCendon"
date: "`2017-10-7"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Capstone}
  %\VignetteEngine{knitr::knitr}
  %\usepackage{UTF-8}{inputenc}
---
This package is intended to read in and visualize data from the U.S. National Oceanographic and Atmospheric Administration (NOAA) dataset on significant earthquakes
around the world https://www.ngdc.noaa.gov/nndc/struts/form?t=101650&s=1&d=1. 

The below five functions should be used in succession to generate visualizations of the earthquake data. eq_clean_data should be used in conjunction with eq_location_clean to provide a clean data set. The subsequent data should then be visualized in a timeline geom using geom_timeline. Below are the five functions this package exports.

## eq_clean_data

This function cleans the raw NOAA data setting the various fields to the appropriate 
data types

```{r}
eq_clean_data('../R/signif.txt')
```

## eq_loc_helper

This is a helper function used in cleaning the data that is primarily relevant for 
removing colons, ":",  from the LOCATION_NAME field

```{r}
eq_loc_helper("co:lon")
```

## eq_location_clean

This function cleans the LOCATION_NAME field by placing it in the proper casing and using
the "eq_loc_helper" function to remove colons. It takes a dataframe and returns a cleaned one. For a completely clean NOAA data it must be used in conjunction with eq_clean_data

```{r}
eq_location_clean(eq_clean_data('../R/signif.txt'))
```

## geom_timeline

This function creates a new geom to create a timeline for a specified data range
and plots each earthquake as a point on that timline

```{r}
ggplot2::ggplot(data = filter(eq_location_clean(eq_clean_data('../R/signif.txt')), COUNTRY == "GERMANY"), ggplot2::aes(x = date, y = COUNTRY, color = DEATHS, size = EQ_PRIMARY)) + geom_timeline(alpha = 0.2)
```

## eq_map

A function that could return a map visualization of NOAA Earthquake data, but doesn't

```{r}
eq_map()
